
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab 06</title>
  <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<bodyclass="stackedit">
  <div class="stackedit__html"><h1 id="Численное-интегрирование-функциия">6 - Численное интегрирование функциия</h1>
<blockquote>
<p>Лабораторная работа 6 для студентов курса “Основы программирования” 1 курса кафедры ИУ5 МГТУ им Н.Э. Баумана.</p>
</blockquote>
<h2 id="содержание">Содержание</h2>
<ol>
<li><a href="#%D1%86%D0%B5%D0%BB%D1%8C-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B">Цель работы</a></li>
<li><a href="">Введение</a></li>
<li><a href="">Задание</a></li>
<li><a href="#%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8E-%D0%BB%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BD%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B">Указания по выполнению работы</a></li>
<li><a href="">Формулы для вычисления точных значений интеграла</a></li>
<li><a href="">Примеры передачи в функцию в качестве параметров одномерных массивов и имен функций</a></li>
<li><a href="">Приложение 1. Пример вывода таблицы результатов</a></li>
<li><a href="">Приложение 2. Функция для печати таблицы результатов</a></li>
</ol>
<h2 id="цель-работы">Цель работы</h2>
<p>На примере разработки программы для численного интегрирования функции с заданной точностью методом прямоугольников и методом трапеций освоить следующие приемы программирования:</p>
<ul>
  <li>передача в функцию параметров «по значению» и «по адресу»;</li>
  <li>передача в функцию имени функции;</li>
  <li>передача одномерных массивов в функцию;</li>
  <li>объединение разнородных данных в структуру;</li>
  <li>использование массивов из элементов типа структура;</li>
</ul>
<h2 id="начало-работы">Начало работы</h2>
<p>Зайдите в свою локальную директорию с репозиторием для выполнения лабораторных работ. Заберите ветку с соответствующей лабораторной работой из общего репозитория (в лабораторной работе 0 был отмечен меткой upstream):</p>
<pre><code>git pull upstream
</code></pre>
<p><strong>или</strong></p>
<pre><code>git pull upstream lab_5
</code></pre>
<p>Переключитесь на ветку с текущей лабораторной работой:</p>
<pre><code>git checkout lab_5
</code></pre>
<p>Свяжите ветку локального репозитория с вашим удаленным репозиторием:</p>
<pre><code>git push --set-upstream origin lab_5
</code></pre>
<h3>Задание</h3>
<ol>
  <li>1. Численное интегрирование функции с заданной точностью методом прямоугольников.
    <p>Вычислить определённый интеграл в пределах от a до b для четырех функций:</p>
    <ul>
      <li>f₁(x) = x</li>
      <li>f₂(x) = sin(22 * x)</li>
      <li>f₃(x) = x⁴</li>
      <li>f₄(x) = arctg(x)</li>
    </ul>
    <p>Вычисление интеграла оформить в виде функции <code>integrationByRectangle</code>. </p>
    <p>Вычисления выполнить  для пяти значений точности: 0.01, 0.001, 0.0001, 0.00001 и 0.000001.</p>
    <p>Исследовать быстродействие алгоритма в зависимости от подынтегральной функции и требуемой точности (быстродействие алгоритма можно оценить числом элементарных прямоугольников <strong>n</strong>).</p>
    <p>Результаты представить в виде 5 таблиц, по одной таблице для каждого значения точности. В каждой таблице выводить данные для всех четырех функций.</p>
    <p>Для печати таблицы результатов использовать функцию <code>printTabl(resultToPrint* i_prn, int countRowOfTable);</code> , приведенную в приложении 2.</p>
    <p>Здесь i_prn – массив структур типа resultToPrint размерностью countRowOfTable</p>
    <p>Вид таблицы приведен в Приложении 1</p>
  </li>
  <li>2. Выполнить п.1, используя для интегрирования метод трапеций. Вычисление интеграла оформить в виде функции <code>integrationByTrapezoidal</code>.</li>
  <p>Для печати таблиц результатов использовать ту же функцию, что и в методе прямоугольников.</p>
</ol>

<h3>Указания по выполнению работы</h3>
<p>Алгоритм метода Дарбу-Римана аналогичен методу прямоугольников, но на каждом шаге вычисляются две суммы — верхняя (S2) и нижняя (S1):</p>
<pre><code>f1 = f(x);         // левая граница
f2 = f(x + dx);    // правая граница

if (f1 &lt;= f2) {
    S1 += f1 * dx; // нижняя сумма
    S2 += f2 * dx; // верхняя сумма
} else {
    S2 += f1 * dx;
    S1 += f2 * dx;
}
</code></pre>

<p>Вычисления прекращаются при |S2 - S1| &lt; eps.</p>

<h3>Прототип функции прямоугольников</h3>
<pre><code>typedef double (*TPF)(double);

double IntRect(TPF f, double a, double b, double eps, int& n);
</code></pre>

<h3>Прототип функции трапеций</h3>
<pre><code>double IntTrap(TPF f, double a, double b, double eps, int& n);
</code></pre>

<h3>Формулы точных интегралов</h3>
<pre><code>∫ x dx = (b*b - a*a)/2.0

∫ sin(22x) dx = (cos(a*22.0) - cos(b*22.0)) / 22.0

∫ x⁴ dx = (b⁵ - a⁵) / 5.0

∫ arctg(x) dx = b*atan(b) - a*atan(a) - (log(b²+1) - log(a²+1)) / 2.0
</code></pre>

<h3>Передача массивов в функцию</h3>
<pre><code>#include &lt;iostream&gt;
int sum(int *a, int n);

int main() {
    int n;
    int a[] = {1,2,3,4,5,6,7,8};
    n = sizeof(a)/sizeof(int);
    std::cout &lt;&lt; "n = " &lt;&lt; n &lt;&lt; std::endl;
    std::cout &lt;&lt; sum(a, n) &lt;&lt; std::endl;
    return 0;
}

int sum(int* a, int n) {
    int s = 0;
    for (int i = 0; i &lt; n; ++i)
        s += a[i];
    return s;
}
</code></pre>

<h3>Передача функции как параметра</h3>
<pre><code>#include &lt;iostream&gt;

typedef void (*PF)(int);

void f1(PF pf) {
    pf(5);
}

void f(int i) {
    std::cout &lt;&lt; i &lt;&lt; std::endl;
}

int main() {
    f1(f); // выведет 5
    return 0;
}
</code></pre>

<h3>Приложение 2: функция вывода таблицы</h3>
<pre><code>struct resultToPrint {
    char* name;
    double i_sum;
    double i_toch;
    int n;
};

void printTabl(resultToPrint* i_prn, int countRowOfTable) {
    // ... оформление таблицы с рамками и выравниванием
}
</code></pre>

</body>
</html>
